!function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){r(1),t.exports=r(1)},function(t,e){"use strict";var r=angular.module("myapp",["ui.router"]);r.service("planetService",function(){var t=[];this.populatePlanets=function(e){t=e.map(function(t){return t.residents=t.residents.map(function(t){var t={url:t};return t.id=t.url.match(/\d+/)[0],t}),t})},this.getPlanets=function(){return t}}),r.service("characterService",function(){var t={};this.getCharacter=function(e){return t[e]},this.saveCharacter=function(e,r){var n=r;t[n]=e},this.getAll=function(){return t}}),r.controller("ResidentCtrl",["$scope","$http","$stateParams","characterService",function(t,e,r,n){t.nextChar=Number(r.id)+1,n.getCharacter(r.id)?t.character=n.getCharacter(r.id):e.get("http://swapi.co/api/people/"+r.id+"/?format=json").then(function(e){n.saveCharacter(e.data,r.id),t.character=n.getCharacter(r.id)})}]),r.controller("PlanetCtrl",["$scope","$http","planetService","characterService",function(t,e,r,n){0===r.getPlanets().length?e.get("http://swapi.co/api/planets/?format=json").then(function(e){r.populatePlanets(e.data.results),t.planets=r.getPlanets()})["catch"](function(t){console.error(t.status)}):(t.characters=n.getAll(),t.planets=r.getPlanets())}]),r.config(["$stateProvider","$urlRouterProvider",function(t,e){e.otherwise("/planets"),t.state("planets",{url:"/planets",templateUrl:"planets.html",controller:"PlanetCtrl"}).state("resident",{url:"/resident/:id",templateUrl:"resident.html",controller:"ResidentCtrl"})}])}]);
//# sourceMappingURL=bundle.min.js.map